"use strict";(self.webpackChunkmergist=self.webpackChunkmergist||[]).push([[245],{7979:function(e,t,n){n.r(t),n.d(t,{default:function(){return re}});var r=n(6540),i=n(2738),s=n(7424),a=n(7815),o=n(6188),l=n(9955);function c(e){return r.createElement("label",{className:`cursor-pointer ${e.className}`},r.createElement("input",{className:"hidden",type:"file",accept:"application/pdf",onChange:function(t){(0,s.Al)(t);const n=t.target.files;n&&n.length>0&&e.onFilesAdded(n)},multiple:!0}),e.children)}function d(e){return r.createElement(c,{className:"flex-col flex-1",onFilesAdded:e.onFilesAdded},r.createElement("div",{className:"flex-col justify-center flex-1 m-8 p-8 gap-8 text-center z-20 bg-base-100 border-2 border-dashed rounded-lg hover:bg-base-200"},r.createElement(l.I,{icon:o.OXM,tw:"fa-3x"}),r.createElement("p",{className:"flex-grow-0"},"Drag and drop PDF files here, or click to select files")))}function u(e){const{0:t,1:n}=(0,r.useState)(!1),i=(0,r.useRef)(0),a=(0,r.useCallback)((e=>{(0,s.Al)(e)}),[]),o=(0,r.useCallback)((e=>{(0,s.Al)(e),i.current++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&n(!0)}),[]),l=(0,r.useCallback)((e=>{(0,s.Al)(e),i.current--,i.current>0||n(!1)}),[]),c=(0,r.useCallback)((t=>{(0,s.Al)(t),n(!1),t.dataTransfer.files&&t.dataTransfer.files.length>0&&(i.current=0,e.onFilesAdded(t.dataTransfer.files),t.dataTransfer.clearData())}),[e.onFilesAdded]);return(0,r.useEffect)((()=>(window.addEventListener("dragenter",o),window.addEventListener("dragleave",l),window.addEventListener("dragover",a),window.addEventListener("drop",c),()=>{window.removeEventListener("dragenter",o),window.removeEventListener("dragleave",l),window.removeEventListener("dragover",a),window.removeEventListener("drop",c)}))),r.createElement("div",{className:"fixed inset-0 flex-col justify-center items-center p-16 bg-base-100/50 z-10 "+(t?"":"hidden")})}c.defaultProps={className:""};var f=n(5128);function m(){const e=(0,r.useRef)(!1);return(0,f.E)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}var p=n(7745);var g=n(6719),h=n(8601);class E extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function v({children:e,isPresent:t}){const n=(0,r.useId)(),i=(0,r.useRef)(null),s=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)((()=>{const{width:e,height:r,top:a,left:o}=s.current;if(t||!i.current||!e||!r)return;i.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${r}px !important;\n            top: ${a}px !important;\n            left: ${o}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),r.createElement(E,{isPresent:t,childRef:i,sizeRef:s},r.cloneElement(e,{ref:i}))}const b=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=(0,h.M)(x),c=(0,r.useId)(),d=(0,r.useMemo)((()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:e=>{l.set(e,!0);for(const t of l.values())if(!t)return;i&&i()},register:e=>(l.set(e,!1),()=>l.delete(e))})),a?void 0:[n]);return(0,r.useMemo)((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[n]),r.useEffect((()=>{!n&&!l.size&&i&&i()}),[n]),"popLayout"===o&&(e=r.createElement(v,{isPresent:n},e)),r.createElement(g.t.Provider,{value:d},e)};function x(){return new Map}var y=n(9473);var w=n(5238);const R=e=>e.key||"";const A=({children:e,custom:t,initial:n=!0,onExitComplete:i,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:o="sync"})=>{(0,w.V)(!s,"Replace exitBeforeEnter with mode='wait'");const l=(0,r.useContext)(y.L).forceRender||function(){const e=m(),[t,n]=(0,r.useState)(0),i=(0,r.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,r.useCallback)((()=>p.Gt.postRender(i)),[i]),t]}()[0],c=m(),d=function(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}(e);let u=d;const g=(0,r.useRef)(new Map).current,h=(0,r.useRef)(u),E=(0,r.useRef)(new Map).current,v=(0,r.useRef)(!0);var x;if((0,f.E)((()=>{v.current=!1,function(e,t){e.forEach((e=>{const n=R(e);t.set(n,e)}))}(d,E),h.current=u})),x=()=>{v.current=!0,E.clear(),g.clear()},(0,r.useEffect)((()=>()=>x()),[]),v.current)return r.createElement(r.Fragment,null,u.map((e=>r.createElement(b,{key:R(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:a,mode:o},e))));u=[...u];const A=h.current.map(R),F=d.map(R),k=A.length;for(let r=0;r<k;r++){const e=A[r];-1!==F.indexOf(e)||g.has(e)||g.set(e,void 0)}return"wait"===o&&g.size&&(u=[]),g.forEach(((e,n)=>{if(-1!==F.indexOf(n))return;const s=E.get(n);if(!s)return;const f=A.indexOf(n);let m=e;if(!m){const e=()=>{g.delete(n);const e=Array.from(E.keys()).filter((e=>!F.includes(e)));if(e.forEach((e=>E.delete(e))),h.current=d.filter((t=>{const r=R(t);return r===n||e.includes(r)})),!g.size){if(!1===c.current)return;l(),i&&i()}};m=r.createElement(b,{key:R(s),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:a,mode:o},s),g.set(n,m)}u.splice(f,0,m)})),u=u.map((e=>{const t=e.key;return g.has(t)?e:r.createElement(b,{key:R(e),isPresent:!0,presenceAffectsLayout:a,mode:o},e)})),r.createElement(r.Fragment,null,g.size?u:u.map((e=>(0,r.cloneElement)(e))))};var F=n(8347),k=n(7383);const M={[k.P.SUCCESS]:{class:"alert-success",icon:o.Dnq},[k.P.WARNING]:{class:"alert-warning",icon:o.JAe},[k.P.ERROR]:{class:"alert-error",icon:o.lEd}};function N(e){const t=e.statusMsg.getSeverity,{0:n,1:i}=(0,r.useState)(!0),a={initial:"hidden",animate:"visible",exit:"hidden",variants:{visible:{opacity:1,scaleY:1},hidden:{opacity:0,scaleY:0}},...(0,s.xl)()};return(0,r.useEffect)((()=>{const e=setTimeout((()=>{i(!1)}),5e3);return()=>{clearTimeout(e)}}),[5e3]),r.createElement(A,null,n&&r.createElement(F.P.div,Object.assign({layout:!0,className:`alert shadow ${M[t].class}`,key:e.statusMsg.getId},a),r.createElement("div",null,r.createElement(l.I,{icon:M[t].icon,tw:"mr-2 fa-lg"}),r.createElement("span",null,e.statusMsg.getMsg))))}var C=n(5016),I=n(4801),P=n(9822);const S=(0,r.createContext)(null);var B=n(2358),L=n(2839);const T=(0,r.forwardRef)((function({children:e,as:t="ul",axis:n="y",onReorder:i,values:s,...a},o){const l=(0,h.M)((()=>(0,F.P)(t))),c=[],d=(0,r.useRef)(!1);(0,w.V)(Boolean(s),"Reorder.Group must be provided a values prop");const u={axis:n,registerItem:(e,t)=>{const r=c.findIndex((t=>e===t.value));-1!==r?c[r].layout=t[n]:c.push({value:e,layout:t[n]}),c.sort(O)},updateOrder:(e,t,n)=>{if(d.current)return;const r=function(e,t,n,r){if(!r)return e;const i=e.findIndex((e=>e.value===t));if(-1===i)return e;const s=r>0?1:-1,a=e[i+s];if(!a)return e;const o=e[i],l=a.layout,c=(0,L.j)(l.min,l.max,.5);return 1===s&&o.layout.max+n>c||-1===s&&o.layout.min+n<c?(0,B.Pe)(e,i,i+s):e}(c,e,t,n);c!==r&&(d.current=!0,i(r.map(D).filter((e=>-1!==s.indexOf(e)))))}};return(0,r.useEffect)((()=>{d.current=!1})),r.createElement(l,{...a,ref:o,ignoreStrict:!0},r.createElement(S.Provider,{value:u},e))}));function D(e){return e.value}function O(e,t){return e.layout.min-t.layout.min}var G=n(4785),z=n(5446);function j(e){const t=(0,h.M)((()=>(0,G.OQ)(e))),{isStatic:n}=(0,r.useContext)(z.Q);if(n){const[,n]=(0,r.useState)(e);(0,r.useEffect)((()=>t.on("change",n)),[])}return t}var $=n(1486);function U(e,t){const n=j(t()),r=()=>n.set(t());return r(),(0,f.E)((()=>{const t=()=>p.Gt.update(r,!1,!0),n=e.map((e=>e.on("change",t)));return()=>{n.forEach((e=>e())),(0,p.WG)(r)}})),n}function Y(e,t,n,r){if("function"==typeof e)return function(e){G.bt.current=[],e();const t=U(G.bt.current,e);return G.bt.current=void 0,t}(e);const i="function"==typeof t?t:function(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],s=e[2+n],a=e[3+n],o=(0,$.G)(i,s,{mixer:(l=s[0],(e=>e&&"object"==typeof e&&e.mix)(l)?l.mix:void 0),...a});var l;return t?o(r):o}(t,n,r);return Array.isArray(e)?Z(e,i):Z([e],(([e])=>i(e)))}function Z(e,t){const n=(0,h.M)((()=>[]));return U(e,(()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)}))}var V=n(9896);function K(e,t=0){return(0,V.S)(e)?e:j(t)}const W={Group:T,Item:(0,r.forwardRef)((function({children:e,style:t={},value:n,as:i="li",onDrag:s,layout:a=!0,...o},l){const c=(0,h.M)((()=>(0,F.P)(i))),d=(0,r.useContext)(S),u={x:K(t.x),y:K(t.y)},f=Y([u.x,u.y],(([e,t])=>e||t?1:"unset"));(0,w.V)(Boolean(d),"Reorder.Item must be a child of Reorder.Group");const{axis:m,registerItem:p,updateOrder:g}=d;return r.createElement(c,{drag:m,...o,dragSnapToOrigin:!0,style:{...t,x:u.x,y:u.y,zIndex:f},layout:a,onDrag:(e,t)=>{const{velocity:r}=t;r[m]&&g(n,u[m].get(),r[m]),s&&s(e,t)},onLayoutMeasure:e=>p(n,e),ref:l,ignoreStrict:!0},e)}))},J=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Q=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],X=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],q=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],H=(e,t,n)=>{let r=e;return"string"==typeof t||Array.isArray(t)?r=e.toLocaleString(t,n):!0!==t&&void 0===n||(r=e.toLocaleString(void 0,n)),r};function _(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);const n=(t={bits:!1,binary:!1,space:!0,...t}).bits?t.binary?q:X:t.binary?Q:J,r=t.space?" ":"";if(t.signed&&0===e)return` 0${r}${n[0]}`;const i=e<0,s=i?"-":t.signed?"+":"";let a;if(i&&(e=-e),void 0!==t.minimumFractionDigits&&(a={minimumFractionDigits:t.minimumFractionDigits}),void 0!==t.maximumFractionDigits&&(a={maximumFractionDigits:t.maximumFractionDigits,...a}),e<1){return s+H(e,t.locale,a)+r+n[0]}const o=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),n.length-1);e/=(t.binary?1024:1e3)**o,a||(e=e.toPrecision(3));return s+H(Number(e),t.locale,a)+r+n[o]}function ee(e){const t="bg-base-100 shadow-md flex-row justify-between p-2 gap-4 rounded-lg cursor-pointer overflow-hidden hover:bg-base-200 "+(e.disabled?"opacity-40":""),n={initial:{scale:0},animate:{scale:1},exit:{scale:0},...(0,s.xl)()};return r.createElement(W.Item,Object.assign({key:e.id,value:e.id,className:t},n),r.createElement("div",{className:"flex-row items-center overflow-hidden gap-0 sm:gap-2"},r.createElement(C.K0,{icon:o.S9g}),r.createElement("p",{className:"font-bold overflow-hidden whitespace-nowrap text-ellipsis"},e.name)),r.createElement("div",{className:"flex-row flex-none items-center overflow-hidden gap-0 sm:gap-2"},r.createElement("p",{className:"whitespace-nowrap"},"(",_(e.size,{maximumFractionDigits:0}),")"),r.createElement("div",{className:"card-actions justify-end"},r.createElement(C.K0,{icon:o.Jyw,onClick:()=>e.onRemove(e.id)}))))}function te(e){return r.createElement(W.Group,{axis:"y",values:e.fileIds,onReorder:e.onReorder,className:"flex-col px-6 py-7 gap-5 bg-base-300 shadow-inner overflow-hidden"},r.createElement(A,null,e.fileIds.map((t=>r.createElement(ee,{key:t,id:t,name:e.files[t].getName,size:e.files[t].getSize,onRemove:e.onFileRemoved,disabled:e.disabled})))))}function ne(e){return r.createElement("div",{tabIndex:0,className:"collapse"},r.createElement("div",{className:"flex-col sm:flex-row justify-between items-center p-6 sm:pl-10 gap-4 collapse-title text-lg font-medium"},r.createElement("h2",null,e.fileIds.length," file",1!==e.fileIds.length&&"s"," added (",_(Object.values(e.files).reduce(((e,t)=>e+t.getSize),0)),")"),r.createElement("div",{className:"flex-row gap-2 flex-1 sm:flex-none"},r.createElement(c,{onFilesAdded:e.onFileAdded},r.createElement(C.jn,{icon:o.OXM,fake:!0},"Add File")),r.createElement(C.jn,{icon:o.yLS,onClick:e.onAllFilesRemoved},"Remove All"))),r.createElement("div",{style:{pointerEvents:e.disabled?"none":"initial"},onClick:e.disabled&&s.Al||void 0,className:"overflow-hidden"},r.createElement(te,{fileIds:e.fileIds,files:e.files,onReorder:e.onReorder,onFileRemoved:e.onFileRemoved,disabled:e.disabled})))}function re(){const{0:e,1:t}=(0,r.useState)([]),{0:n,1:o}=(0,r.useState)({}),{0:l,1:c}=(0,r.useState)([]),{0:f,1:m}=(0,r.useState)(""),{0:p,1:g}=(0,r.useState)(0),h=(0,s._G)(i.A),E=new s.ag(h.shortTitle,h.siteUrl);function v(e,n){void 0===n&&(n=null),E.removeMergedFile(f),n&&o(n),t(e),g(0),m("")}const b=(0,r.useCallback)((t=>{const[r,i]=E.filterInvalidFiles(n,Array.from(t));if(r.length>0){const t=n,i=[];for(const e of r)i.push(e.id),t[e.id]=e;v(e.concat(i),t)}i.length>0&&c(i)}),[e,n]);return r.createElement(a.Mx,{metadata:h},r.createElement(P.A,{title:h.shortTitle},h.description),r.createElement(a.gZ,null,r.createElement(u,{onFilesAdded:b}),r.createElement(a.wn,{visible:l.length>0,className:"gap-5"},l.map((e=>r.createElement(N,{key:e.getId,statusMsg:e})))),r.createElement("div",{tabIndex:0,className:"collapse collapse-open flex-1 bg-base-100 border border-base-300 rounded-none sm:rounded-box"},r.createElement(a.wn,{visible:0===e.length,className:"flex-1"},r.createElement(d,{onFilesAdded:b})),r.createElement(a.wn,{visible:e.length>0},r.createElement(ne,{fileIds:e,files:n,onReorder:function(e){v(e)},onFileAdded:b,onFileRemoved:function(t){const r=n,i=e.filter((e=>e!==t));delete r[t],v(i,r)},onAllFilesRemoved:function(){v([],{})},disabled:p>0}))),r.createElement(a.wn,{visible:e.length>0,className:"px-6 sm:px-0"},r.createElement(C.rA,{numOfFiles:e.length,progress:p,downloadUrl:f,onClick:async function(){const[t,r]=await E.createMergedFile(n,e,g);""===t&&m(""),m(t),c(r),g(0)}}))),r.createElement(I.A,{author:h.author,githubUrl:h.githubUrl,homepageDomain:h.homepageDomain}))}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-ff4ee07a2bfc5e7e26e2.js.map